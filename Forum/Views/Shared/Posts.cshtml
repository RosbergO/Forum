
@model IEnumerable<Forum.Models.TblPosts>

@{
    ViewData["Title"] = ViewBag.category;
}
    <h1>Welcome to the @ViewBag.category discussion</h1>


<button type="button" class="btn btn-primary">
    <a asp-area="" asp-controller="Post" asp-action="Create" asp-route-id=@ViewBag.category>Create new thread</a>
</button>
<table class="table">
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    <p>Title: </p>
                </td>
                <td>
                    <a asp-controller="Post" asp-action="Read" asp-route-id=@item.PoId>
                        @Html.DisplayFor(modelItem => item.PoName)
                    </a>
                </td>
                <td>
                    <p>Content: </p>
                </td>
                <td>
                    <a asp-controller="Post" asp-action="Read" asp-route-id=@item.PoId>
                        @{if (item.PoContent.Length > 60)
                            {

                                item.PoContent = item.PoContent.Substring(0, Math.Min(item.PoContent.Length, 60)) + "...";
                            }

                            @Html.DisplayFor(modelItem => item.PoContent);

                        }
                    </a>
                </td>
                <td>
                    <p>Posted:</p>
                </td>
                <td>
                    <a asp-controller="Post" asp-action="Read" asp-route-id=@item.PoId>
                        @Html.DisplayFor(modelItem => item.PoDate)
                    </a>
                </td>
            </tr>
        }
    </tbody>
</table>
  
